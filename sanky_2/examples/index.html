<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<title>Sankey Diagram</title>
	<body>
		<div id="chart"/>
		<script src="https://unpkg.com/d3@4.10.2"></script>
		<script src="../build/sk.d3.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../build/sk.d3.min.css" />
		<script src="data_energyjson.js"></script>
		<style>
			#chart {
				height: 500px;
				width: 960px;
			}
		</style>
		<script>
			var configSankey = {
				margin: { top: 10, left: 10, right: 10, bottom: 10 },
				nodes: {
					dynamicSizeFontNode: {
						enabled: true,
						minSize: 14,
						maxSize: 30
					},
					draggableX: false, // default [ false ]
					draggableY: true, // default [ true ]
					colors: d3.scaleOrdinal(d3.schemeCategory10)
				},
				links: {
					formatValue: function(val) {
						return d3.format(",.0f")(val) + ' TWh';
					}
				},
				tooltip: {
					infoDiv: true,
					labelSource: 'Input:',
					labelTarget: 'Output:'
				}
			}
			
			var objSankey = sk.createSankey('#chart', configSankey, energyjson);
		</script>
	</body>
</html>